---
alwaysApply: true
---
# USER RULES: Структура файлов проекта CivilX

## Общие принципы организации

### 1. Структура корневого каталога проекта

```
CivilX/
├── CivilX.Shared/              # Общая библиотека (Common Library)
├── plugin_aut/                 # Плагин авторизации (Auth Plugin)
├── dataviewer/                 # Основной плагин DataViewer
├── CivilX_export/              # Папка для экспорта готовых файлов
├── 1. Резервные копии/         # Резервные копии и архивы
├── *.bat                       # Скрипты сборки и установки
├── *.wxs                       # WiX файлы для установщиков
├── *.msi                       # Скомпилированные установщики
├── *.wixobj, *.wixpdb         # Промежуточные файлы WiX
├── CivilX.addin                # Манифест плагина (корневой)
├── license.rtf                 # Лицензионное соглашение
└── *.md                        # Документация проекта

**Правила:**
- Корневой каталог содержит только структуру проекта и служебные файлы
- Готовые файлы для распространения находятся в `CivilX_export/`
- Скрипты сборки имеют префиксы: `build_`, `install_`, `test_`, `update_`
- Документация в формате Markdown (*.md) хранится в корне проекта

---

## 2. Структура папки экспорта (CivilX_export)

**Назначение:** Готовые файлы для распространения и установки

```
CivilX_export/
├── CivilX.addin                # Манифест плагина (должен быть в папке Revit Addins)
├── CivilX.Shared.dll          # Общая библиотека
├── CivilX.Shared.pdb          # Отладочные символы
├── CivilXAuthPlugin.dll       # Плагин авторизации
├── CivilXAuthPlugin.pdb       # Отладочные символы
├── RevitExporterAddin.dll     # Плагин DataViewer
├── RevitExporterAddin.pdb     # Отладочные символы
├── main_icon.jpg              # Главная иконка
├── auth_16.png                # Иконка авторизации 16x16
├── auth_32.png                # Иконка авторизации 32x32
├── dataviewer_16.png          # Иконка DataViewer 16x16
├── dataviewer_32.png          # Иконка DataViewer 32x32
├── ИНСТРУКЦИЯ_УСТАНОВКИ.txt   # Инструкция по установке
└── *.md                       # Документация по версиям и обновлениям
```

**Правила:**
- Все DLL файлы должны быть скомпилированы в Release режиме для x64
- PDB файлы опциональны, но желательны для отладки
- Все файлы должны быть в одной папке для корректной работы плагинов
- Манифест `.addin` должен ссылаться на правильные пути к DLL
- Иконки должны быть в формате PNG для 16x16 и 32x32 или JPG для больших размеров



## 3. Структура папки: dataviewer\

**Общие указания**
-Последующая стукрутура подпок dataviewer\ будет содержать в себе версии  плагина dataviewer для различных версий Revit.
-Структура папки должна логична отражать версионность различных версий Ревита

Схема папки dataviewer\
Папка dataviewer\ должна содержать в себе следующие папки:
 dataviewer\
├── dataviewer2021        # Папка, где сожержатся файлы для проекта плагина dataviewer 2021 версии Revit
├── dataviewer2022         # Папка, где сожержатся файлы для проекта плагина dataviewer 2022 версии Revit
├── dataviewer2022          # Папка, где сожержатся файлы для проекта плагина dataviewer 2021 версии Revit
├── Прочие версии плагина, если они появятся в будующем 

Также, в папке dataviewer\ должны сожержаться файлы, которые являются общими для всех версий dataviewer.

То есть, общие файлы, которые сответствуют всем или нескольким версиям dataviewer



**Правила:**
- Структура папки должно быть легко читаем
- В папке не должно содержаться файлов, которые не касаются плагина dataviewer
- Структура папки должна четко соответствовать "Схема папки dataviewer\"

